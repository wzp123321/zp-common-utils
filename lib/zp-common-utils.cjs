"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=(t,o=!1)=>new Promise(s=>{const e=document.createElement("input");e.multiple=o,e.type="file",t&&(e.accept=t),e.click(),e.onchange=()=>{e.files&&s([...e.files]),e.remove()}}),d=t=>{let o=null;return window.createObjectURL!=null?o=window.createObjectURL(t):window.URL!=null?o=window.URL.createObjectURL(t):window.webkitURL!=null&&(o=window.webkitURL.createObjectURL(t)),o},u=(t,o)=>new Promise((s,e)=>{if(t.size){const n=new FileReader;t.type.includes("json")?(n.onloadend=i=>{const l=JSON.parse(i.target?.result);e(l?.message??"未知原因")},n.readAsText(t)):(n.onloadend=i=>{r(i.target?.result,o).then(()=>s()).catch(l=>e(l))},n.readAsDataURL(t))}else e(`无法获取${o||"文件"}`)}),r=(t,o)=>new Promise((s,e)=>{if(t){const n=document.createElement("a");n.href=t,o&&(n.download=o),n.click(),s(),n.remove()}else e(`无法下载${o||"文件"}`)}),h=t=>{const s=Math.ceil(t.size/10485760),e=[];for(let n=0;n<s;n++){const i=n*10485760,l=Math.min(i+10485760,t.size),c=t.slice(i,l);e.push({index:n,data:c})}return e},w=(t,o="14px",s="1")=>{const e=document.createElement("span");e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="pre",e.style.lineHeight=s,e.style.fontSize=o,e.textContent=t,document.body.appendChild(e);const n=e.clientWidth,i=e.clientHeight;return document.body.removeChild(e),{width:n,height:i}},p=(t,o)=>{if(t||t===0){const s=typeof t=="number"?String(t):t;let e="",n="";return s.includes(".")?(e=s.split(".")[0],n=s.split(".")[1]):e=s,n||n==="0"?e.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+n:e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}else return o||"--"};exports.FBlobHandler=u;exports.FDownLoadHandler=r;exports.FLabelSizeCalculator=w;exports.handleFileChoose=a;exports.mapFileChunks=h;exports.thousandSeparation=p;exports.transferFileToUrl=d;
